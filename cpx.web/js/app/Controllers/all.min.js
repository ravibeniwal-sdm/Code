app.controller("DetailsCtrl",["$scope","$routeParams","$location","$rootScope","$window","$filter","PropertyService","ShortlistService","CommonShareService","$modal","$log","$timeout","getRateInfo","numberFilter","$q","$anchorScroll",function(o,b,e,f,k,m,n,a,l,g,p,s,q,h,r,c){f.metakeywords="graded,propell,details,observation,grade,beds,bath,car,size,rent,lease,cpx price,ipr,rental,review,free,estimate,report,contract,summary,independent,valuation,Depreciation,Population,capital,growth";o.id=b.id;n.success(function(t){o.properties=t.properties;o.navigationState="tab-review";f.count=a.getcount();o.propertieslength=o.properties.length;var u=m("get-property-filter")(o.properties,o.id);o.absurl=e.absUrl();o.currentproperty=o.properties[u];o.countryflag="au";o.countrylabel="AUD";o.defaultPI_LOANTERM=30;o.defaultIO_LOANTERM=5;o.defaultPI_RATE=4.29;o.defaultIO_RATE=4.29;o.default_costvalue=5;o.currentproperty.short_currlabel=undefined;o.currentproperty.short_convcpx=undefined;o.caseflag="one";o.flagset="|";if(o.currentproperty.smsf==true){o.flagset=o.flagset+" SMSF |"}if(o.currentproperty.domacom==true){o.flagset=o.flagset+" DomaCom |"}f.title=o.currentproperty.name+" | "+o.currentproperty.beds+" Beds | "+o.currentproperty.category+" | "+o.currentproperty.address[0].street+" | "+o.currentproperty.address[0].suburb+" | "+o.currentproperty.address[0].state+" | "+o.currentproperty.address[0].postcode+" | Australia "+o.flagset+" CPx";if(u<o.propertieslength-1){o.nextindex=u+1}else{o.nextindex=0}o.nextid=o.properties[o.nextindex].id;if(u==0){o.preindex=o.propertieslength-1}else{o.preindex=u-1}o.preid=o.properties[o.preindex].id;if(!(o.currentproperty.ipr&&o.currentproperty.ipr.length>0)){o.navigationState="tab-map";o.refreshmap()}if(f.scrolltoloan){o.navigationState="tab-loan-cal";e.hash("loan-details");s(function(){c()},2000)}o.currentimages=o.currentproperty.images;o.refreshslider();o.gradevalues=[1,2,3,4,5];o.grades=["AA","A","B","C","D"];o.map={center:{latitude:o.currentproperty.coords.latitude,longitude:o.currentproperty.coords.longitude},zoom:16,markersr:[{id:101,latitude:o.currentproperty.coords.latitude,longitude:o.currentproperty.coords.longitude}]};o.icon="./images/CPX-pins_darkgreen.png";if(o.currentproperty.support_info&&o.currentproperty.support_info.length>0){o.linkuri=o.currentproperty.support_info;o.newtype=[];for(i=0;i<o.linkuri.length;i++){if(o.linkuri[i].Uri.indexOf("pdf")>0){o.newtype[i]="pdf"}else{if(o.linkuri[i].Uri.indexOf("image")>0){o.newtype[i]="image"}else{o.newtype[i]="link"}}}}o.setbasescenario(o.currentproperty)});o.refreshmap=function(){o.showMap=false;s(function(){o.showMap=true})};o.refreshslider=function(){o.showslider=false;s(function(){o.showslider=true})};o.go=function(t){k.open(t)};o.go=function(t){k.open(t)};o.open=function(u){var t=g.open({templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",size:u,resolve:{items:function(){return o.items}}});t.result.then(function(v){o.selected=v},function(){p.info("Modal dismissed at: "+new Date())})};o.items=[];o.open2=function(u){var t=g.open({templateUrl:"mymailcontent.html",controller:"ModalmailCtrl",size:u,resolve:{items:function(){return o.currentproperty}}});t.result.then(function(v){o.selected=v},function(){p.info("Modal dismissed at: "+new Date())})};o.passid=function(t){l.passid(t)};o.addtoshortlist=function(t){o.defaultcostpercent=0.05;t.costprice=t.cpxprice*o.defaultcostpercent;t.estimatedtotal=t.cpxprice*1+t.costprice;t.cashamt=0;t.cashpercent=0;t.loanamt=t.estimatedtotal-t.cashamt;t.lvr=t.loanamt/t.cpxprice;t.lvrdisplay=t.lvr*100;f.count=a.addProduct(t)};o.alerts=[];o.addAlert=function(t){o.alertid=t;o.alerts.push({msg:"Property shortlisted successfully!"});o.autoHide()};o.autoHide=function(){s(function(){o.alerts.splice(0,1)},3000)};o.closeAlert=function(t){o.alerts.splice(t,1)};o.passenquiry=function(t){f.shownothing=false;l.passenquireid(t)};o.iframevisible=false;o.hideiframe=function(){o.iframevisible=true};o.iframecontract=false;o.showcontractiframe=function(){o.iframecontract=true};o.iframehistory=false;o.showhistoryiframe=function(){o.iframehistory=true};o.activechange=function(t){o.iframevisible=false;o.imageSupport=t};o.checkclicked=function(t){o.currentclicked=t};o.maptype="roadmap";o.setmap=function(t){o.maptype=t};o.streetviewclosed=function(){o.maptype="roadmap"};o.countryflag="au";o.countrylabel="AUD";o.dollarflag=true;function j(t){return t&&t.rate}var d=q();o.to={};o.from={};r.all([d]).then(function(v){var x=v[0].quotes;o.currencies=[];var u=l.getcurrencyNames();var t=x.USDUSD;var w=x.USDAUD;var y=t/w;angular.forEach(u,function(z,B){var A=x["USD"+B];o.currencies.push({code:B,label:B+" "+z+" ("+h(A*y,3)+" / AUD)",rate:A*y})});o.from.currency=o.currencies[7];o.to.currency=o.currencies[7]});o.updateValueAll=function(y,x,v,u){o.countryflag=x.currency.code.toLowerCase().substr(0,2);o.countrylabel=x.currency.code;v.short_currlabel=x.currency.code;if(x.currency.code=="AUD"){v.short_currlabel=undefined}v.short_convcpx=v.cpxprice/j(y.currency)*j(x.currency);v.series=[];v.data=[];angular.forEach(v.scenarios,function(z,A){if(!(z.caseflag=="three")||u){z.conv_costprice=z.costprice/j(y.currency)*j(x.currency);z.conv_estimate=z.estimate/j(y.currency)*j(x.currency);z.conv_loanamt=z.loanamt/j(y.currency)*j(x.currency);z.conv_cashamount=z.cashamount/j(y.currency)*j(x.currency)}if(z.loantype=="PI"){if(z.intrate==undefined||z.intrate==""){z.intrate=0}z.conv_repayments=o.calrepayPI(z.loanterm,z.intrate,z.conv_loanamt);z.graphdata=o.calgraphdata(z.loanterm,z.intrate,z.conv_loanamt,z.conv_repayments)}else{z.conv_repayments=o.calrepayIO(z.intrate,z.conv_loanamt);z.graphdata=o.calgraphdata(o.defaultIO_LOANTERM,z.intrate,z.conv_loanamt,z.conv_repayments)}v.data.push(z.graphdata[0].data);v.series.push(z.name);if(z.graphdata[0].label.length>v.labels.length){v.labels=z.graphdata[0].label}});var t=0;for(i=0;i<v.scenarios.length;i++){if(v.scenarios[i].graphdata[0].label.length>t){t=v.scenarios[i].graphdata[0].label.length;var w=i}}if(v.scenarios.length>0){v.labels=v.scenarios[w].graphdata[0].label}};o.isCollapsedflag=false;o.setiscreate=function(){o.iscreate=true;o.editflag=null;o.editingname=null};o.typeselected="IO";o.isIOselected=function(t){o.typeselected=t};o.calrepayPI=function(v,x,w){if(x==0){var y=w/(v*12)}else{var A=v*12;var z=x/(100*12);var u=z*Math.pow(1+z,A);var t=Math.pow(1+z,A)-1;var y=w*(u/t)}return y};o.calrepayIO=function(u,t){var v=(u*t)/(100*12);return v};o.calgraphdata=function(w,A,u,t){var C=[0];var y=[u.toFixed(2)];var v=w*12;var B=A/(100*12);for(i=1;i<=v;i++){if(i%12==0){C.push(i/12);y.push(u.toFixed(2))}var x=u*B;var z=t-x;u=u-z}var D=[{data:"",label:""}];D[0].data=y;D[0].label=C;return D};o.toggle=function(){o.isCollapsedflag=!o.isCollapsedflag};o.setbasescenario=function(w){w.scena={name:"",lvr:"",cashamount:"",loantype:"",interestrate:"",loanterm:"",costper:""};w.scenarios=[];var t={};t.name="Base IO";t.loantype="IO";t.intrate=o.defaultIO_RATE;t.loanterm=o.defaultIO_LOANTERM;t.caseflag="one";t.cost=o.default_costvalue;o.defaultcostpercent=t.cost*1/100;t.costprice=w.cpxprice*o.defaultcostpercent;t.estimate=w.cpxprice*1+t.costprice;t.cashamount=0;t.cashpercent=0;t.loanamt=t.estimate-t.cashamount;var v=t.loanamt/w.cpxprice;t.lvr=v*100;t.repayments=o.calrepayIO(t.intrate,t.loanamt);t.graphdata=o.calgraphdata(t.loanterm,t.intrate,t.loanamt,t.repayments);o.scenariotowatch=t;w.scenarios.push(t);w.labels=t.graphdata[0].label;w.series=[t.name];w.data=[t.graphdata[0].data];var u={};u.name="Base PI";u.loantype="PI";u.intrate=o.defaultPI_RATE;u.loanterm=o.defaultPI_LOANTERM;u.caseflag="one";u.cost=o.default_costvalue;o.defaultcostpercent=u.cost*1/100;u.costprice=w.cpxprice*o.defaultcostpercent;u.estimate=w.cpxprice*1+u.costprice;u.cashamount=0;u.cashpercent=0;u.loanamt=u.estimate-u.cashamount;var v=u.loanamt/w.cpxprice;u.lvr=v*100;u.repayments=o.calrepayPI(u.loanterm,u.intrate,u.loanamt);u.graphdata=o.calgraphdata(u.loanterm,u.intrate,u.loanamt,u.repayments);w.scenarios.push(u);w.labels=u.graphdata[0].label;w.data.push(u.graphdata[0].data);w.series.push(u.name)};o.submitscenario=function(y,v){if(v.name){o.status="OK";if(o.editingname!=null){o.status="editOK";o.editingname=null}angular.forEach(y.scenarios,function(x,B){if(x.name.toLowerCase()==v.name.toLowerCase()){o.status="notOK"}});if(o.editflag!=null){if(y.scenarios[o.editflag].name.toLowerCase()==v.name.toLowerCase()){o.status="editOK"}}}else{o.status="notOK"}if(o.status!="notOK"){o.scenatowatch=v;var w={name:v.name,lvr:v.lvr,cashamount:v.cashamount,cashpercent:null,loantype:v.loantype,intrate:v.interestrate,loanterm:v.loanterm,repayments:null,cost:v.costper,estimate:null,loanamt:null};o.defaultcostpercent=w.cost*1/100;if(w.cost==undefined||w.cost==""){w.cost=5;o.defaultcostpercent=0.05}if((v.lvr==undefined||v.lvr=="")&&(v.cashamount==undefined||v.cashamount=="")){w.caseflag="one";w.costprice=y.cpxprice*o.defaultcostpercent;w.estimate=y.cpxprice*1+w.costprice;w.cashamount=0;w.cashpercent=0;w.loanamt=w.estimate-w.cashamount;var z=w.loanamt/y.cpxprice;w.lvr=z*100}else{if((v.lvr&&v.lvr!="")&&(v.cashamount==undefined||v.cashamount=="")){w.caseflag="two";w.costprice=y.cpxprice*o.defaultcostpercent;var z=v.lvr/100;w.estimate=y.cpxprice*1+w.costprice;w.cashamount=w.estimate-(z*y.cpxprice);w.cashpercent=(100+100*o.defaultcostpercent)-v.lvr;w.loanamt=w.estimate-w.cashamount}else{if(((v.cashamount&&v.cashamount!="")&&(v.lvr==undefined||v.lvr==""))||((v.cashamount&&v.cashamount!="")&&(v.lvr&&v.lvr!=""))){w.caseflag="three";w.costprice=y.cpxprice*o.defaultcostpercent;w.estimate=y.cpxprice*1+w.costprice;if(y.short_currlabel){if(v.cashtype=="%"){var u=(y.short_convcpx*v.cashamount)/100}else{var u=v.cashamount}w.conv_costprice=w.costprice/j(o.from.currency)*j(o.to.currency);w.conv_estimate=w.estimate/j(o.from.currency)*j(o.to.currency);var z=(w.conv_estimate-u)/y.short_convcpx;w.lvr=z*100;w.conv_cashamount=u;w.cashamount=u/j(o.to.currency)*j(o.from.currency);w.cashpercent=(100+100*o.defaultcostpercent)-w.lvr*1;w.conv_loanamt=w.conv_estimate-w.conv_cashamount;w.loanamt=w.estimate-w.cashamount}else{if(v.cashtype=="%"){var u=(y.cpxprice*v.cashamount)/100}else{var u=v.cashamount}var z=(w.estimate-u)/y.cpxprice;w.lvr=z*100;w.cashamount=u;w.cashpercent=(100+100*o.defaultcostpercent)-w.lvr*1;w.loanamt=w.estimate-w.cashamount}}}}if(w.loantype=="PI"){if(w.intrate==undefined||w.intrate==""){w.intrate=0}w.repayments=o.calrepayPI(w.loanterm,w.intrate,w.loanamt);w.graphdata=o.calgraphdata(w.loanterm,w.intrate,w.loanamt,w.repayments)}else{w.loanterm=o.defaultIO_LOANTERM;w.repayments=o.calrepayIO(w.intrate,w.loanamt);w.graphdata=o.calgraphdata(o.defaultIO_LOANTERM,w.intrate,w.loanamt,w.repayments)}if(o.editflag!=null){y.scenarios[o.editflag]=w;y.data.splice(o.editflag,0,w.graphdata[0].data);y.series.splice(o.editflag,0,w.name)}else{y.scenarios.push(w);y.data.push(w.graphdata[0].data);y.series.push(w.name)}if(y.short_currlabel){o.updateValueAll(o.from,o.to,y,false)}else{var t=0;for(i=0;i<y.scenarios.length;i++){if(y.scenarios[i].graphdata[0].label.length>t){t=y.scenarios[i].graphdata[0].label.length;var A=i}}if(y.scenarios.length>0){y.labels=y.scenarios[A].graphdata[0].label}}o.editflag=null;o.scenariotowatch2=w;if(o.scenariotowatch2.name!=o.scenariotowatch.name){w.namechanged=true}else{w.namechanged=false}if(o.scenariotowatch2.lvr!=o.scenariotowatch.lvr){w.lvrchanged=true}else{w.lvrchanged=false}if(o.scenariotowatch2.cashamount!=o.scenariotowatch.cashamount){w.cashamountchanged=true}else{w.cashamountchanged=false}if(o.scenariotowatch2.loantype!=o.scenariotowatch.loantype){w.loantypechanged=true}else{w.loantypechanged=false}if(o.scenariotowatch2.intrate!=o.scenariotowatch.intrate){w.intratechanged=true}else{w.intratechanged=false}if(o.scenariotowatch2.loanterm!=o.scenariotowatch.loanterm){w.loantermchanged=true}else{w.loantermchanged=false}if(o.scenariotowatch2.repayments!=o.scenariotowatch.repayments){w.repaymentschanged=true}else{w.repaymentschanged=false}if(o.scenariotowatch2.cost!=o.scenariotowatch.cost){w.costchanged=true}else{w.costchanged=false}if(o.scenariotowatch2.estimate!=o.scenariotowatch.estimate){w.estimatechanged=true}else{w.estimatechanged=false}if(o.scenariotowatch2.loanamt!=o.scenariotowatch.loanamt){w.loanamtchanged=true}else{w.loanamtchanged=false}o.clearscenario(y,v)}if(o.status=="OK"){o.alerts=[{type:"success",msg:"Scenario added successfully"}]}else{if(o.status=="editOK"){o.alerts=[{type:"success",msg:"Scenario edited successfully"}]}else{o.alerts=[{type:"danger",msg:"Oops! please provide an unique and non-empty scenario name"}]}}s(function(){o.alerts.splice(0,1)},3000)};o.clearscenario=function(v,t,u){t.name=undefined;t.lvr=undefined;t.cashamount=undefined;t.loantype="IO";t.interestrate=undefined;t.loanterm=undefined;t.costper=undefined;o.typeselected="IO";if(u!=null){v.data.splice(u,0,o.cached_indexdata);v.series.splice(u,0,o.cached_indexseries);o.cached_indexdata=null;o.cached_indexseries=null}};o.deletescenario=function(w,u){w.data.splice(u,1);w.series.splice(u,1);w.scenarios.splice(u,1);var t=0;for(i=0;i<w.scenarios.length;i++){if(w.scenarios[i].graphdata[0].label.length>t){t=w.scenarios[i].graphdata[0].label.length;var v=i}}if(w.scenarios.length>0){w.labels=w.scenarios[v].graphdata[0].label}};o.editflag=null;o.editingname=null;o.editscenario=function(u,v,t){o.editflag=t;o.iscreate=false;o.isCollapsedflag=false;o.editingname=u.name;v.scena.name=u.name;if(u.caseflag=="three"){v.scena.cashamount=u.cashamount;v.scena.lvr=undefined}else{if(u.caseflag=="two"){v.scena.cashamount=undefined;v.scena.lvr=u.lvr}else{v.scena.cashamount=undefined;v.scena.lvr=undefined}}v.scena.loantype=u.loantype;v.scena.interestrate=u.intrate;v.scena.loanterm=u.loanterm;v.scena.costper=u.cost;o.typeselected=u.loantype;o.cached_indexdata=v.data[t];o.cached_indexseries=v.series[t];v.data.splice(t,1);v.series.splice(t,1)}}]);app.controller("HomePageCtrl",["$scope","$rootScope","$window","PropertyService",function(b,a,e,c){b.isviewgradedpage=false;a.metakeywords="CPx,Real estate,Buy property,Sell property,Investment property,Property Sydney,No agent,Advertise property,Graded properties,Real estate advertising,Property Melbourne,No agent fees,Real estate sales,Buy real estate,Independently reviewed and graded properties,Independent real estate sales,Central Property Exchange";a.title="Central Property Exchange | Independent Real Estate Sales| Home Page";a.description="Central Property Exchange | Independent Real Estate Sales  |  Residential and Investment Properties  | A Fresh Approach to Buying Property";c.success(function(f){b.properties=f.properties});b.go=function(f){e.open(f)};function d(){b.$emit("viewEvent")}b.sortdate=function(g){var f=new Date(g.date_created);return f};b.myInterval=4000;b.slides=[{text:"Get free, instant access to independently reviewedand graded properties "},{text:"Know the outcome before you buy"},{text:"Know the outcome before you sell"},{text:"Know the outcome first "},{text:"Know the opportunity before buy or sell"},{text:"Independently reviewed and graded properties "},{text:"Connecting property buyers with sellers  "},{text:"Minimising risk for property buyers "},{text:"No negotiating necessary "},{text:"CPx is the ideal property platform for the financial services industry "},{text:"Fee-for-Service "},{text:"Buyers and Sellers save money"},{text:"A fresh approach to buying property "},{text:"CPx is all about independent real estate sales"},{text:"CPx is a real estate advertising platform with a difference "},{text:"CPx delivers services from the property buyer perspective "},{text:"It is an Australian first"},{text:"NO listing-agent selling-fees"},{text:"Buyers can save $6,000 to $30,000 off the selling price "},]}]);app.controller("PropertiesCtrl",["$scope","$rootScope","$filter","$timeout","$location","$window","PropertyService","ShortlistService","CommonShareService","$modal","$log","$routeParams","uiGmapGoogleMapApi","uiGmapIsReady","getRateInfo","numberFilter","$q",function(p,e,m,t,d,j,n,a,l,f,q,b,k,o,r,g,s){if(d.absUrl().indexOf("view-graded-properties")>=0){p.isviewgradedpage=true;e.metakeywords="property,properties,price,cpx,beds,type,ipr,smsf,deposit,sold,domacom,grade,grid,map,all,graded";e.title="Real Estate | Properties | Homes For Sale | Apartments For Sale | Old Homes | New Developments | Graded Properties | Independent Properties | Independently Reviewed | No Selling Fees  | CPx";e.description="A FRESH APPROACH TO BUYING PROPERTY, Get free, instant access to independently reviewed and graded properties"}else{}p.searchcriteria=[];p.loancriteria=[];p.allproperties=[];n.success(function(u){p.allproperties=u.properties;p.properties=[];angular.copy(p.allproperties,p.properties);e.shownothing=true;p.isStandardOpen=true;p.isLoanOpen=false;p.isInvestmentOpen=false;p.defaultLOANTERM=30;p.defaultPI_RATE=4.29;p.defaultIO_RATE=4.29;p.default_costvalue=5;p.groups=[{id:0,isopen:true},{id:1,isopen:false},{id:2,isopen:false}];p.animatebtn=false;p.viewid="grid";p.markers=p.properties;var v={grade:"",type:"Any",minbeds:"Any",maxbeds:"Any"};p.update(v);p.options=[{label:"Filter by grade: Any",value:""},{label:"Filter by grade: AA - a score equal or above 275",value:"AA"},{label:"Filter by grade: A - a score equal or above 215",value:"A"},{label:"Filter by grade: B - a score equal or above 155",value:"B"},{label:"Filter by grade: C - a score equal or above 95",value:"C"},{label:"Filter by grade: D - a score less than 95",value:"D"}];p.searchcriteria.grade=p.options[0].value;p.MapOptions={minZoom:3,zoomControl:false,draggable:true,navigationControl:false,mapTypeControl:false,scaleControl:false,streetViewControl:false,disableDoubleClickZoom:false,keyboardShortcuts:true,markers:{selected:{}},styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]}],};p.windowOptions={show:false,templateUrl:"templates/mapwindow.html",templateParameter:""};k.then(function(w){p.googlemap={};p.map={center:{latitude:-26.78,longitude:140.41},zoom:4,pan:1,options:p.mapOptions,control:{},events:{tilesloaded:function(z,x,y){},dragend:function(z,x,y){},zoom_changed:function(z,x,y){}}}});o.promise().then(function(w){}).then(function(){p.addMarkerClickFunction(p.markers)});e.scrolltoloan=false;p.loanupdate(p.loancriteria,"default")});p.propertyview=function(u){p.viewid=u};p.update=function(u){p.animatebtn=false;if(u.minprice!=undefined&&u.minprice!="Any"){u.conv_minprice=u.minprice/p.to.currency.rate}if(u.maxprice!=undefined&&u.maxprice!="Any"){u.conv_maxprice=u.maxprice/p.to.currency.rate}console.log(u);var v=m("get-search-filter")(p.allproperties,u);p.properties=v;p.markers=p.properties;for(i=0;i<p.markers.length;i++){p.markers[i].icon="./images/CPX-pin_RED.png";if(i<3){p.markers[i].icon="./images/CPX-pins_darkgreen.png"}if(i>2&&i<13){p.markers[i].icon="./images/CPX-pin_BLUE.png"}}};p.reset=function(v,w,u){p.properties=p.allproperties;p.markers=p.allproperties;for(i=0;i<p.markers.length;i++){p.markers[i].icon="./images/CPX-pin_RED.png";if(i<3){p.markers[i].icon="./images/CPX-pins_darkgreen.png"}if(i>2&&i<13){p.markers[i].icon="./images/CPX-pin_BLUE.png"}}p.animatebtn=false;v.minprice=undefined;v.maxprice=undefined;v.minbeds="Any";v.maxbeds="Any";v.type="Any";w.option="1";v.left=undefined;v.domacom=undefined;v.latest=undefined;v.sold=undefined;v.gradelabel="Filter by grade: Any";v.grade="";v.searchtext=undefined;v.searchid=undefined;v.conv_minprice=undefined;v.conv_maxprice=undefined;v.repay=undefined;u.type="$";u.lvr=undefined;u.loancash=undefined;u.inputcost=undefined;p.countryflag="au";p.countrylabel="AUD";p.to.currency=p.currencies[7];p.loanupdate(u,"reset")};p.sortlist=function(u){if(u=="1"){p.properties=m("orderBy")(p.properties,"rel",true)}if(u=="2"){p.properties=m("orderBy")(p.properties,"beds",true)}if(u=="3"){p.properties=m("orderBy")(p.properties,"beds",false)}if(u=="4"){p.properties=m("orderBy")(p.properties,"cpxprice",true)}if(u=="5"){p.properties=m("orderBy")(p.properties,"cpxprice",false)}if(u=="6"){p.properties=m("orderBy")(p.properties,"score",true)}if(u=="7"){p.properties=m("orderBy")(p.properties,"score",false)}if(u=="8"){p.properties=m("orderBy")(p.properties,"PIrepayments",true)}if(u=="9"){p.properties=m("orderBy")(p.properties,"PIrepayments",false)}p.markers=p.properties;for(i=0;i<p.markers.length;i++){p.markers[i].icon="./images/CPX-pin_RED.png";if(i<3){p.markers[i].icon="./images/CPX-pins_darkgreen.png"}if(i>2&&i<13){p.markers[i].icon="./images/CPX-pin_BLUE.png"}}};p.animate=function(u){if(u=="on"){p.animatebtn=true}};p.go=function(u){j.open(u)};p.open=function(v){var u=f.open({templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",size:v,resolve:{items:function(){return p.items}}});u.result.then(function(w){p.selected=w},function(){q.info("Modal dismissed at: "+new Date())})};p.items=["item1","item2","item3"];e.count=a.getcount();p.addtoshortlist=function(u){e.count=a.addProduct(u)};p.onClick=function(u){p.windowOptions.show=!p.windowOptions.show;p.windowOptions.templateParameter=u;p.temp=0};p.closeClick=function(){p.windowOptions.show=false};p.addMarkerClickFunction=function(u){angular.forEach(u,function(w,v){w.onClick=function(){p.onClick(w);p.MapOptions.markers.selected=w}})};p.alerts=[];p.addAlert=function(u){p.alertid=u;p.alerts.push({msg:"Property shortlisted successfully!"});p.autoHide()};p.autoHide=function(){t(function(){p.alerts.splice(0,1)},3000000)};p.closeAlert=function(u){p.alerts.splice(u,1)};function h(u){return u&&u.rate}var c=r();p.to={};p.from={};s.all([c]).then(function(w){var y=w[0].quotes;p.currencies=[];var v=l.getcurrencyNames();var u=y.USDUSD;var x=y.USDAUD;var z=u/x;angular.forEach(v,function(A,C){var B=y["USD"+C];p.currencies.push({code:C,label:C+" "+A+" ("+g(B*z,3)+" / AUD)",rate:B*z})});p.from.currency=p.currencies[7];p.to.currency=p.currencies[7]});p.countryflag="au";p.countrylabel="AUD";p.updateValueAll=function(w,v,u){p.countryflag=v.currency.code.toLowerCase().substr(0,2);p.countrylabel=v.currency.code;angular.forEach(u,function(y,x){y.currencylabel=v.currency.code;if(v.currency.code=="AUD"){y.currencylabel=undefined}w.value=y.cpxprice;y.convertedcpx=y.cpxprice/h(w.currency)*h(v.currency);y.conv_costprice=y.costprice/h(w.currency)*h(v.currency);y.conv_estimatedtotal=y.estimatedtotal/h(w.currency)*h(v.currency);if(p.case3flag){if(p.percentflag){y.conv_cashamt=(y.convertedcpx*p.cashentered)/100}else{y.conv_cashamt=p.cashentered}y.conv_loanamt=y.conv_estimatedtotal-y.conv_cashamt;y.conv_PIrepayments=p.calrepayPI(p.defaultLOANTERM,p.defaultPI_RATE,y.conv_loanamt);y.conv_IOrepayments=p.calrepayIO(p.defaultIO_RATE,y.conv_loanamt)}else{y.conv_loanamt=y.loanamt/h(w.currency)*h(v.currency);y.conv_cashamt=y.cashamt/h(w.currency)*h(v.currency);y.conv_PIrepayments=p.calrepayPI(p.defaultLOANTERM,p.defaultPI_RATE,y.conv_loanamt);y.conv_IOrepayments=p.calrepayIO(p.defaultIO_RATE,y.conv_loanamt)}})};p.dollarflag=false;p.updateValue=function(w,v,u){u.currencylabel=v.currency.code;if(v.currency.code=="AUD"){u.currencylabel=undefined}u.convertedcpx=u.cpxprice/h(w.currency)*h(v.currency)};p.calrepayPI=function(w,y,x){if(y==0){var z=x/(w*12)}else{var B=w*12;var A=y/(100*12);var v=A*Math.pow(1+A,B);var u=Math.pow(1+A,B)-1;var z=x*(v/u)}return z};p.calrepayIO=function(v,u){var w=(v*u)/(100*12);return w};p.loanupdate=function(u,v){if(u.inputcost==undefined||u.inputcost==""||u.inputcost==null||isNaN(u.inputcost)===true){p.defaultcostpercent=p.default_costvalue/100}else{p.defaultcostpercent=u.inputcost/100}angular.forEach(p.allproperties,function(z,y){if((u.lvr==undefined||u.lvr=="")&&(u.loancash==undefined||u.loancash=="")){p.case3flag=false;z.costprice=z.cpxprice*p.defaultcostpercent;z.estimatedtotal=z.cpxprice*1+z.costprice;z.cashamt=0;z.cashpercent=0;z.loanamt=z.estimatedtotal-z.cashamt;z.lvr=z.loanamt/z.cpxprice;z.lvrdisplay=z.lvr*100;if(v=="converter"){p.updateValueAll(p.from,p.to,[z])}if(v=="reset"){z.conv_cashamt=undefined;z.conv_costprice=undefined;z.conv_estimatedtotal=undefined;z.conv_loanamt=undefined;z.convertedcpx=undefined;z.currencylabel=undefined}}else{if((u.lvr&&u.lvr!="")&&(u.loancash==undefined||u.loancash=="")){p.case3flag=false;z.costprice=z.cpxprice*p.defaultcostpercent;z.lvrdisplay=u.lvr;z.lvr=z.lvrdisplay/100;z.estimatedtotal=z.cpxprice*1+z.costprice;z.cashamt=z.estimatedtotal-(z.lvr*z.cpxprice);z.cashpercent=(100+100*p.defaultcostpercent)-z.lvrdisplay*1;z.loanamt=z.estimatedtotal-z.cashamt;if(v=="converter"){p.updateValueAll(p.from,p.to,[z])}}else{if((u.loancash&&u.loancash!="")&&(u.lvr==undefined||u.lvr=="")){p.case3flag=true;z.costprice=z.cpxprice*p.defaultcostpercent;z.estimatedtotal=z.cpxprice*1+z.costprice;if(v=="converter"){p.updateValueAll(p.from,p.to,[z]);if(u.type=="%"){p.percentflag=true;var w=(z.convertedcpx*u.loancash)/100;p.cashentered=u.loancash}else{var w=u.loancash;p.percentflag=false;p.cashentered=u.loancash}z.lvr=(z.conv_estimatedtotal-w)/z.convertedcpx;z.lvrdisplay=z.lvr*100;z.conv_cashamt=w;z.cashamt=w;z.cashpercent=(100+100*p.defaultcostpercent)-z.lvrdisplay*1;z.conv_loanamt=z.conv_estimatedtotal-z.conv_cashamt;z.loanamt=z.conv_loanamt;z.conv_PIrepayments=p.calrepayPI(p.defaultLOANTERM,p.defaultPI_RATE,z.conv_loanamt);z.conv_IOrepayments=p.calrepayIO(p.defaultIO_RATE,z.conv_loanamt)}else{if(u.type=="%"){var w=(z.cpxprice*u.loancash)/100}else{var w=u.loancash}z.lvr=(z.estimatedtotal-w)/z.cpxprice;z.lvrdisplay=z.lvr*100;z.cashamt=w;z.cashpercent=(100+100*p.defaultcostpercent)-z.lvrdisplay*1;z.loanamt=z.estimatedtotal-z.cashamt}}}}z.PIrepayments=p.calrepayPI(p.defaultLOANTERM,p.defaultPI_RATE,z.loanamt);z.IOrepayments=p.calrepayIO(p.defaultIO_RATE,z.loanamt)})};p.gotoloantab=function(){e.scrolltoloan=true}}]);app.controller("ModalInstanceCtrl",function(b,c,a){b.items=a;b.cancel=function(){c.dismiss("cancel")}});app.controller("ModalmailCtrl",["$scope","items","$location","ShareMailService","$rootScope","$modalInstance",function(c,b,g,d,a,f){c.absurl="http://centralpropertyexchange.com.au/#!/details/"+b.id;var e=b.address[0].StreetNumber+" "+b.address[0].street+", "+b.address[0].suburb+", "+b.address[0].city+" "+b.address[0].state+" "+b.address[0].postcode;c.subject="Sharing property link with you; "+b.name+" "+e;c.txtmsg="Hello,\nI found this property on CPx.\n\nPlease have a look/ review "+b.name+", "+b.type+"\n"+e+"\n"+c.absurl+"\n\nRegards";c.ok=function(){f.close()};a.loading=false;c.sendEmail=function(){a.loading=true;d.create(c.sharemail).$promise.then(function(h){c.msg=h.toJSON();a.loading=false;if(c.msg.status=="OK"){c.alerts=[{type:"success",msg:"Thank you for contacting us. We will reach out to you shortly."}]}else{c.alerts=[{type:"danger",msg:"Oops! something went wrong please try again."},]}c.contact=null;c.closeAlert=function(j){c.alerts.splice(j,1)}});c.ok()};c.cancel=function(){f.dismiss("cancel")}}]);app.controller("FaqmailCtrl",["$scope","items","$location","$routeParams","ShareMailService","$rootScope","$modalInstance",function(c,b,g,f,d,a,e){c.absurl="http://centralpropertyexchange.com.au/#!/blog/"+b;c.subject="BLOG / "+f.pid.replace("_"," ");c.txtmsg="Hello,\n\nPlease have a look/ review\n"+c.absurl+"\n\nRegards";c.ok=function(){e.close()};a.loading=false;c.sendEmail=function(){a.loading=true;d.create(c.sharemail).$promise.then(function(h){c.msg=h.toJSON();a.loading=false;if(c.msg.status=="OK"){c.alerts=[{type:"success",msg:"Thank you for contacting us. We will reach out to you shortly."}]}else{c.alerts=[{type:"danger",msg:"Oops! something went wrong please try again."},]}c.contact=null;c.closeAlert=function(j){c.alerts.splice(j,1)}});c.ok()};c.cancel=function(){e.dismiss("cancel")}}]);app.controller("AboutCtrl",["$scope","$rootScope","$routeParams","$location","$anchorScroll","$window","$modal","$log","$timeout","CommonShareService",function(k,f,g,d,e,a,h,l,b,c){f.shownothing=true;k.pid=g.pid;k.subid=g.subid;k.keywordset=[{pid:"what-is-cpx",keywords:"What is CPx,CPx,Real estate,Real estate agents,Real estate sales,Real estate services,Real estate advertising,Cost savings,Property buying,Real estate websites,Purchase a property,Central Property Exchange,Independent representation,Property seller and buyer,No real estate agent selling fees,Independent property review,Listing properties ready for sale,Independent real estate sales,Fair and independent representation",description:"Central Property Exchange � Independent Real Estate Advertising  � Cost Savings for Property Sellers and Buyers � New Market for Real Estate Agents, Buyers, Advisors, Property Developers, Builders.",title:"Central Property Exchange | Real Estate Advertising | What is CPx"},{pid:"independent-process",keywords:"CPx,Real estate,Property seller,Real estate sales,Sellers and buyers,Central Property Exchange,Do it yourself,Industry professional,Real estate agents,Independent process,Alternative process,Independently represented,Properties across Australia,Independent property review,Significant cost savings,Independent real estate sales,The financial services industry,A fresh approach to buying property",description:"Central Property Exchange � Independent Process for Real Estate Sales � Buy and Sell Residential and Investment Properties � A Fresh Approach To Buying Property.",title:"Central Property Exchange | Buy & Sell Real Estate| Independent Process"},{pid:"independent-property-review",keywords:"CPx,IPR,Property review,Australian property,Central Property Exchange,Property specific,IPR report,Listed price,Property attributes,Independent commentary,Real estate properties,Construction completion date,Independent property review,Properties available for sale,Historical property and area data",description:"Central Property Exchange � Property Specific Reports - Buy and Sell Residential and Investment Properties � Independent Commentary on Properties Available for Sale.",title:"Central Property Exchange | Real Estate| Independent Property Review"},{pid:"what-is-graded",keywords:"CPx,Graded,Price risk,Real estate,New concept,National valuers,Save money,Property score,Property grade,Individualised service,Comparing properties,Property demographics,Historical growth rate,Propell National Valuers,The world of real estate,General property search,Property across Australia,Offers buyers several benefits",description:"Central Property Exchange � Scored And Graded Individual Property Reports - Buy And Sell Residential And Investment Properties � A Smart New Concept In The World Of Real Estate.",title:"Central Property Exchange | Real Estate Report| What is graded"},{pid:"find-industry-professionals",keywords:"CPx,Sellers,Buyers,Service,Agreements,Recommendations,Benefit,Fixed fee,CPx governance,Customer loyalty,Industry professionals,Central Property Exchange,Indicative service fees,Significant cost savings ,Property seller and buyer,Percentage of the sale price,Independent representation,Finding an industry professional",description:"Central Property Exchange � Find Industry Professionals � CPx Allows The Property Seller And Buyer To Appoint Their Personal Industry Professional.",title:"Central Property Exchange | Find Industry Professionals | Appoint your own Professional"},{pid:"view-directory",keywords:"directory,view,list"},{pid:"press-releases",keywords:"CPx,Blog,New property,Property price,Buyer�s agent,Press Releases,Villa World,Domacom,No middle man ,Financial services,Property investing,Central property exchange,Buy and sell property,Buy property through CPx,Save thousands of dollars ,List your property with CPx,Fractional property investing,Residential builders and developers,The future of real estate buying and selling",description:"Central Property Exchange � Blog � Press Releases � Buy and sell property without a middle-man.",title:"Central Property Exchange | Real Estate| Press Releases"},{pid:"Publications",keywords:"CPx,Blog,SMSF,Real Estate,Publications,Buy property,Independent Process,Confidis,DomaCom,Villa World,Save thousands,Finance professionals,Advertising properties,Central property exchange,Cut out the middle-man,Self managed super fund,Buy property through CPx,Fractional property investing,List your properties with CPx,Buy and sell property for less,Finance professionals benefit",description:"Central Property Exchange � Blog � Publications � Buy and sell property for less with CPx.",title:"Central Property Exchange | Real Estate| Publications"},{pid:"cpx-announcements",keywords:"CPx,Real Estate,Developers,Announcements,Private Vendors,Save thousands,Property for sale,Mortgage Brokers,Financial Planners,Real estate agents,Graded properties,Central property exchange,Property Developers,New Real Estate service,No real estate agent fees,Deal directly with the vendor,Independent online real estate,Advertise your property for sale",description:"Central Property Exchange � Blog � CPx announcements � List your property with CPx and save thousands.",title:"Central Property Exchange | Real Estate| Announcements"},{pid:"blogindex",keywords:"blog,subscribe,faq,cpx,announcement,press,release,publications",description:"Central Property Exchange � Blog � CPx announcements � FAQ - Press Releases - Publications.",title:"Central Property Exchange | Real Estate| Blog"},{pid:"FAQs",keywords:"CPx,FAQ,Confidis,DomaCom,Real Estate,Commission,Vendor direct,Property seller,Advertise on CPx,Property Developer,Currency conversions,Real estate advertising,Central property exchange,Sell my properties,Questions and Answers,Attract property buyers,Vendor direct advertising,Best price for my property,Major real estate advertising websites,Property is already listed with an agent",description:"Central Property Exchange � Blog � FAQ � Questions and answers on common queries when using CPx.",title:"Central Property Exchange | Real Estate| FAQ"},{pid:"working-with-cpx",keywords:"CPx,Fees,Buyers,Real Estate,Membership,Accountants,Full Disclosure,Free membership,Financial Planners,Mortgage Brokers,Industry Professionals,Central property exchange,No referral fees,Real Estate Agents,No transaction fees,Fixed fee-for-service,Receive free referrals,Property sellers and buyers",description:"Central Property Exchange � Industry Professionals � Working With CPx � This Page Is For Industry Professionals Wanting To Know More About Working With CPx.",title:"Central Property Exchange | Industry Professionals | Working with CPx"},{pid:"list-property",keywords:"CPx,List,Vendors,Advertise,Properties,Developers,Selling fees,Real estate,Selling property,Financial Services,Significant savings,Central property exchange,Real Estate agents,Apples with apples,List your property on CPx,Listing a property for sale,Independent Property Review,Dealing directly with the vendor,No real estate agent selling fees",description:"Central Property Exchange � Properties � List Your Property On Cpx � Let�s Start With A Pressing Question.  Why List Or Advertise With CPx?",title:"Central Property Exchange | Properties | List your Property on CPx"}];k.status=[{url:"how-cpx-traffic-compare",value:false,id:"one",keywords:"CPx,FAQ,Hits,Buyer,Properties,Advertising,Millions,Page views,Find a buyer,Website Traffic,Advertising fees,Central Property Exchange,Millions of hits,Properties for clients,Major real estate sites,Financial services industry,Real estate website traffic,Independent listing process,Short list suitable properties",description:"Central Property Exchange � FAQ � Website Traffic � How Does CPx Website Traffic Compare To Major Sites",title:"Central Property Exchange | FAQ| Website Traffic"},{url:"how-cpx-attract-property-buyers",value:false,id:"two",keywords:"CPx,FAQ,Online,Buyers ,Properties,Marketing,Sales team,Attract buyers,Marketing plan,Business network,Financial services,Central Property Exchange,Significant savings,Marketing to buyers,Industry professionals,Properties ready for sale,Property seller and buyer,Independent property review",description:"Central Property Exchange � FAQ � CPx Marketing � How Does CPx Attract Property Buyers",title:"Central Property Exchange | FAQ| CPx Marketing"},{url:"advertise-with-cpx",value:false,id:"three",keywords:"CPx,FAQ,Agency,Property,Advertising,Marketplace,Selling-fee,Open agency,Non-exclusive,Already Listed,Exclusive agency,Central Property Exchange,Procure a buyer,Multiple mediums,Real estate agents,Property is already listed,Project Marketing Company,Exclusive agency agreement",description:"Central Property Exchange � FAQ � Already Listed � My Property Is Already Listed With An Agent Or Project Marketing Company",title:"Central Property Exchange | FAQ| Already Listed"},{url:"real-estate-licence",value:false,id:"four",keywords:"CPx,FAQ,Listing,License,Property,Advertise,Real estate,License to list ,Listing process,Governance section,Independent process,Central Property Exchange,Anyone can list,Advertise on CPx,List your property,Real estate license,For more information,Governance listing process",description:"Central Property Exchange � FAQ � No License to List � Must I Have A Real Estate License To List Advertise On CPx",title:"Central Property Exchange | FAQ| No License to List"},{url:"cpx-vs-direct-vendor",value:false,id:"five",keywords:"CPx,FAQ,Agent,Vendor,Compare,Advertising,Real estate,Listed price,Vendor agent,Property advertising,Compare CPx,Central Property Exchange,List client properties,Independent process,Propell National Valuers,Real estate agent selling-fee,Independent property review,Vendor direct advertising sites",description:"Central Property Exchange � FAQ � Vendor Advertising � How does CPx compare to vendor direct advertising sites",title:"Central Property Exchange | FAQ| Vendor Advertising"},{url:"less-properties",value:false,id:"six",keywords:"CPx,FAQ,Buyer,Listed,Australia,Properties,Secondary keywords,Real estate,New listings,Listed properties,Rental estimates,Properties Australia,Central Property Exchange,Long tail keywords,Real estate sites,Contract-of-sale,Properties for purchase,Propell National Valuers,Properties listed on CPx,Independent property review,No real estate agent selling fee",description:"Central Property Exchange � FAQ � Properties Listed � Why Are There Are Small Number Of Properties Listed On CPx?",title:"Central Property Exchange | FAQ| Properties Listed"},{url:"property-developer-network",value:false,id:"seven",keywords:"CPx,Sell,FAQ ,Buyer,Property,Network,Commissions,Advertising,Sell properties,Selling strategy,Network to sell,Property Developer,Central Property Exchange,Listed for sale,Procure a buyer,Value for money,Property sale price,Sell your properties,Savings to the buyer,Network to sell my properties",description:"Central Property Exchange � FAQ � Property Network � I Am A Property Developer Who Uses A Network To Sell My Properties.  Will My Network Be Compromised If The Same Property Is Also Listed For Sale On CPx?",title:"Central Property Exchange | FAQ| Property Network"},{url:"commission-listing-fees",value:false,id:"eight",keywords:"CPx,FAQ,Fees,Buyer,Service,Property,Commission,Open house,Admin support,Scope of service,Representing sellers,Industry professionals,Central Property Exchange,Scope of service,CPx Administration,Listing support fees,Indicative service fees,How much commission,Included in the listed price",description:"Central Property Exchange � FAQ � Retained Commission � How Much Of The Commission Can Be Retained To Offset CPx Administration/ Listing Support Fees?",title:"Central Property Exchange | FAQ| Retained Commission"},{url:"low-grade-advertise",value:false,id:"nine",keywords:"CPx,FAQ ,Score,Property,Categories,Advertising,Overall score,Property pricing,Graded property,Assist the vendor ,Property categories,Central Property Exchange,Best for a buyer,Advertising on CPx,Low Graded Property,Comparative attributes,The score of a property,CPx recommends buyers",description:"Central Property Exchange � FAQ � Low Graded Property � Is A Property With A Low Graded Score Worthwhile Advertising On CPx?",title:"Central Property Exchange | FAQ| Low Graded Property"},{url:"best-price-for-property",value:false,id:"ten",keywords:"CPx,FAQ ,Fees,Profit,Property,Advertising,Low rate,Best price,Sale profit,Property seller,Advertising fees,Central Property Exchange,Best market price,View current rates,Profit in your pocket,Best price for my property,Listing your property with CPx,Not paying agent commissions",description:"Central Property Exchange � FAQ � Best Price � I Am A Property Seller And I Want The Best Price For My Property.  Can I Achieve This Using CPx?",title:"Central Property Exchange | FAQ| Best Price"},{url:"domacom-fractional-property-investing",value:false,id:"eleven",keywords:"CPx,FAQ,Share,DomaCom,Properties,Investment,Unit holders,Property rent,Property shares,Safe investment,Property to invest in,Central Property Exchange,Public book build,Manage the properties,Buying investment property,Diversified property portfolio,Managed Investment Scheme,Earn money from my investment,Fractional Property Investing Fund,Sell some or all of my property units,Property ownership and management costs",description:"Central Property Exchange � FAQ � DomaCom � DomaCom Fractional Property Investing.",title:"Central Property Exchange | FAQ| DomaCom"},{url:"self-managed-super-fund-smsf",value:false,id:"twelve",keywords:"CPx,FAQ ,SMSF,Super,Trustees,Retirement,Trust fund,Super fund,Buying property,Investment property,Superannuation monies,Central Property Exchange,Trustees of the fund,Self Managed Super Fund,Bought through a managed SMSF,Property purchase through my SMSF,Investing in property through your SMSF,Limited Recourse Borrowing Arrangements,Growing wealth to provide retirement income",description:"Central Property Exchange � FAQ � SMSF � Self Managed Super Fund.",title:"Central Property Exchange | FAQ| SMSF"},{url:"currency-conversion",value:false,id:"thirteen",keywords:"CPx,FAQ ,Rates,Currency,Exchange,Conversions,Investment,Breach,User rule,Exchange rates,Trusted sources,Currency Conversions,Central Property Exchange,Third party suppliers,Investment decisions,Open Exchange Rates,Breach of this user rule,Accuracy of information,Making investment decisions",description:"Central Property Exchange � FAQ � Currency Conversions � Currency Conversions Is A Guide To Open Exchange Rates.",title:"Central Property Exchange | FAQ| Currency Conversions"},{url:"confidis-pty-ltd",value:false,id:"fourteen",keywords:"CPx,ANZ,AIG,FAQ,Audit,Confidis,Transactions,Underwritten,Security,Trust Fund,Trust Account,Confidis Pty Ltd,Independent trust,Central Property Exchange,Certificate of Funds,Money is held safely,Australia�s leading banks,Trust Account transaction,Underwritten by AIG Australia,Deposits and disbursements of commissions and monies",description:"Central Property Exchange � FAQ � Confidis � What does Confidis Pty Ltd do?",title:"Central Property Exchange | FAQ| Confidis Pty Ltd"},{url:"loan-view",value:false,id:"fifteen",keywords:"CPx,LVR,Loan,View,Costs,Search,Glossary,Announcements,Loan view,Interest rate,Interest only,Cash amount,Purchase costs,Estimated total,Search property,Add loan scenario,Monthly repayments,Loan to value ratio,Principle & Interest,Financial loan scenario,Find affordable properties,Central property exchange,Loan view glossary of terms,Financial search facility for property buyers,",description:"Central Property Exchange � FAQ � Loan View Glossary Of Terms – Loan View Is A Search Facility For Property Buyers.",title:"Central Property Exchange | FAQ | Loan View Glossary of Terms"}];k.pressstatus=[{url:"residential-builders-and-developers",value:false,id:"two",keywords:"CPx,Agent,Profits,Builders,Developers,Press Release,Dealing direct,New way to sell,Negotiate directly,Real estate agency,Independent professionals,Central property exchange,Reap the rewards,Builders and Developers,Vendor can list their property,List your properties with CPx,New property selling process,The future of real estate trading",description:"Central Property Exchange � Press Release � Residential Builders and Developers� List Properties with CPx and Reap the Rewards.",title:"Central Property Exchange | Press Release| Builders & Developers"},{url:"private-residential-property-sellers",value:false,id:"three",keywords:"CPx,Sell,Vendor,Real Estate,Press Release,Representative,No set fee,Property expert,Sellers and buyers ,Agent and vendor,Changing properties,Central property exchange,New property website,Sales commission fees,Save thousands of dollars,Eliminates high selling fees,Future of real estate buying and selling,Cut out the middle-man and save thousands",description:"Central Property Exchange � Press Release � Private Residential Property Sellers � Cut out the middle-man and save thousands.",title:"Central Property Exchange | Press Release| Private Sellers"},{url:"cpx-launch",value:false,id:"four",keywords:"CPx,Fees,Launch,Real Estate,Negotiated,Commissions,Press Release,Advertising,Referral fees,Property gallery,Service providers,Independent agents,Central property exchange,Real estate website,Buying property online,Cut out the middle man,Real estate industry first,Buy and sell properties for less,Commissions and advertising fees,Listing and selling a property through CPx",description:"Central Property Exchange � Press Release � CPx Launch � Buy and sell property through CPx.",title:"Central Property Exchange | Press Release| CPx Launch"},{url:"property-buyers",value:false,id:"one",keywords:"CPx,Purchase,Saving,Sale price,Property price,Press Release,Selling fees,Buy property,Property for sale,Agent commissions,Independent representative,Central property exchange,No set agent fees,Real estate agents,Current market guide,Buy property through CPx,Independently list property,Online property listing website",description:"Central Property Exchange � Press Release � Property Buyers � Be In Charge When You Buy Property Through Cpx.",title:"Central Property Exchange | Press Release| Property Buyers"},{url:"financial-services",value:false,id:"five",keywords:"CPx,Finance,Investors,Properties,Real Estate,Press Release,Accountants,Financial Services,Financial Planners,Mortgage Brokers,Independent vendors,Central property exchange,Site feedback,Property grade,New property website,Quality service providers,Saving thousands of dollars,Finance Professionals Benefit with CPx",description:"Central Property Exchange � Press Release � Financial Services � Finance Professionals Benefit with Cpx.",title:"Central Property Exchange | Press Release| Financial Services"},{url:"buyers-agents",value:false,id:"six",keywords:"CPx,Agent,Buyer ,Real Estate,Press Release,Representative,Buyers Agent,Buying Property,Negotiate directly,Free membership,Source properties,Central property exchange,Add more value,No fee for referrals,Portfolio of properties,Expand agency business,Negotiate with the vendor,Listed as a service provider",description:"Central Property Exchange � Press Release � Buyers Agents � Agents Get To Add More Value With CPx.",title:"Central Property Exchange | Press Release| Buyers Agents"},{url:"fractional-property-investing",value:false,id:"seven",keywords:"CPx,Property,Investing,Fractional,DomaCom,Press Release,Equity release,Property fund,Capital growth,SMSF Trustees,Choose property,Australian properties,Long term investors,Fractional property investing,Property Investment solution,Financial services professionals,Independently listed properties,Buy property without the middleman",description:"Central Property Exchange � Press Release � Fractional Property Investing � DomaCom Collaborates With CPx.",title:"Central Property Exchange | Press Release| Fractional Investing"},{url:"villa-world",value:false,id:"eight",keywords:"CPx,Private,Brokers,Investors,Villa World,Press Release,New homes,Property sales,List properties,Negotiated price,Industry professionals,Central Property Exchange,Buyers and sellers,Buy and sell property,Significant cost savings,Saving thousands of dollars,Property development group,Advertise completed new homes",description:"Central Property Exchange � Press Release � Villa World � Villa World Lists New Homes With CPx.",title:"Central Property Exchange | Press Release| Villa World"},{url:"power-exchange",value:false,id:"nine",keywords:"",description:"",title:"Central Property Exchange | Press Release| Power Exchange"}];k.cpxanoustatus=[{url:"new-service-for-private-vendors-and-developers",value:false,id:"one",keywords:"CPx,Real Estate,Developers,Announcements,Private Vendors,Save thousands,Property for sale,Mortgage Brokers,Financial Planners,Real estate agents,Graded properties,Central property exchange,Property Developers,New Real Estate service,No real estate agent fees,Deal directly with the vendor,Independent online real estate,Advertise your property for sale",description:"Central Property Exchange � Blog � CPx announcements � List your property with CPx and save thousands.",title:"Central Property Exchange | Real Estate| Announcements"},{url:"loan-view",value:false,id:"two",keywords:"CPx,LVR,Loan,Budget,Deposit, Shortlist,Announcements,Loan view,Search tool,Interest only,Loan amount,Cash amount,Search for property,Borrowing capacity,Monthly repayments,Central property exchange,Loan to value ratio,Principle & Interest,Repayment life cycle,View graded properties,Real estate sales website,Experience the loan view difference,Be the power behind the interest rate,The smart new way to search property,",description:"Central Property Exchange � Cpx Announcements � Loan View � The smart new way to search property!",title:"Central Property Exchange | CPx Announcements| Loan View "}];k.viewgradedstatus=[{value:false},{value:false}];if(k.pid!=undefined){for(i=0;i<k.keywordset.length;i++){if(k.keywordset[i].pid==k.pid){f.metakeywords=k.keywordset[i].keywords;f.description=k.keywordset[i].description;f.title=k.keywordset[i].title}}}if(k.subid!=undefined&&k.subid!="subid"){if(k.pid=="FAQs"){for(i=0;i<k.status.length;i++){if(g.subid==k.status[i].url){f.metakeywords=k.status[i].keywords;f.description=k.status[i].description;f.title=k.status[i].title}}}else{if(k.pid=="press-releases"){for(i=0;i<k.pressstatus.length;i++){if(g.subid==k.pressstatus[i].url){f.metakeywords=k.pressstatus[i].keywords;f.description=k.pressstatus[i].description;f.title=k.pressstatus[i].title}}}else{if(k.pid=="cpx-announcements"){for(i=0;i<k.cpxanoustatus.length;i++){if(g.subid==k.cpxanoustatus[i].url){f.metakeywords=k.cpxanoustatus[i].keywords;f.description=k.cpxanoustatus[i].description;f.title=k.cpxanoustatus[i].title}}}}}}k.isCPxCollapsed=true;k.aboutmenu=[{name:"what-is-cpx",value:true},{name:"independent-process",value:false},{name:"independent-property-review",value:false},{name:"what-is-graded",value:false},{name:"find-industry-professionals",value:false},{name:"FAQs",value:false},{name:"list-property",value:false},{name:"advertise-property",value:false},{name:"mnucontactus",value:false},{name:"working-with-cpx",value:false},{name:"view-directory",value:false},{name:"submit-free-membership-form",value:false},{name:"Business_login",value:false},{name:"Contact_us_for_more",value:false},{name:"press-releases",value:false},{name:"Publications",value:false},{name:"cpx-announcements",value:false},{name:"blogindex",value:false},{name:"submit-service-request",value:false},];k.toggleStatus={first:false,second:false,third:false,fourth:false,fifth:false,sixth:true,seventh:false};k.selectMenuItem=function(m){for(var n in k.aboutmenu){if(k.aboutmenu[n].name==m){k.aboutmenu[n].value=true}else{k.aboutmenu[n].value=false}}};k.selectMenuItem(k.pid);k.gotoBottom=function(){var m=c.getgotorate();if(m==true){k.viewgradedstatus[1].value=true;d.hash("grade");b(function(){e()},4000)}if(k.pid=="FAQs"){for(i=0;i<k.status.length;i++){if(g.subid==k.status[i].url){d.hash(k.status[i].id);k.status[i].value=true;b(function(){e()},4000)}}}else{if(k.pid=="press-releases"){for(i=0;i<k.pressstatus.length;i++){if(g.subid==k.pressstatus[i].url){d.hash(k.pressstatus[i].id);k.pressstatus[i].value=true;b(function(){e()},4000)}}}else{if(k.pid=="cpx-announcements"){for(i=0;i<k.cpxanoustatus.length;i++){if(g.subid==k.cpxanoustatus[i].url){d.hash(k.cpxanoustatus[i].id);k.cpxanoustatus[i].value=true;b(function(){e()},4000)}}}}}};k.gotorate=function(){c.passgotorate()};k.gotorate2=function(){c.passgotorate2()};if(k.pid=="FAQs"||k.pid=="press-releases"||k.pid=="cpx-announcements"||k.pid=="what-is-graded"){k.gotoBottom()}var j="";k.openfaqmail=function(n){if(k.pid=="FAQs"){for(i=0;i<k.status.length;i++){if(n==k.status[i].id){j=k.pid+"/"+k.status[i].url}}}else{if(k.pid=="press-releases"){for(i=0;i<k.pressstatus.length;i++){if(n==k.pressstatus[i].id){j=k.pid+"/"+k.pressstatus[i].url}}}else{if(k.pid=="cpx-announcements"){for(i=0;i<k.cpxanoustatus.length;i++){if(n==k.cpxanoustatus[i].id){j=k.pid+"/"+k.cpxanoustatus[i].url}}}}}var m=h.open({templateUrl:"mymailcontent.html",controller:"FaqmailCtrl",size:"",resolve:{items:function(){return j}}});m.result.then(function(o){k.selected=o},function(){l.info("Modal dismissed at: "+new Date())})};k.setprintpage=function(m){c.passblogprintid(m)};k.registrationForm={email:""};k.resetform=function(){alert(k.registrationForm.email);b(function(){k.registrationForm.email=""},3000)}}]);app.controller("OrderCtrl",["$scope","$rootScope",function(b,a){b.isCPxCollapsed=true;b.isCollapsed=true;b.toggleStatus={ipr:false,ire:false,ics:false,deprpt:false,propval:false,popugrowth:false}}]);app.controller("ListCtrl",["$scope","$rootScope","$location","$anchorScroll","$timeout","CommonShareService",function(c,a,g,f,e,d){a.metakeywords="";c.listStatus={rate:false,offer:false};var b=d.getgotorate2();if(b==true){c.listStatus.rate=true;g.hash("rate");e(function(){f()},4000)}}]);app.controller("ErrorPageCtrl",["$scope",function(a){}]);app.controller("ContactCtrl",["$scope","ContactService","$rootScope","CommonShareService","ShortlistService","vcRecaptchaService","$http","$timeout",function(j,e,h,c,a,d,g,b){h.metakeywords="CPx,Email,Contact,Message,Telephone,Management,Questions,Email address,Contact details,Key management,Telephone number,Central Property Exchange,Online right now,Chat via Skype with us,Find out more about CPx,Comments and questions,Based in Sydney and Perth,How to make contact with CPx";h.title="Central Property Exchange | Real Estate| Contact";h.description="Central Property Exchange � Contact Page - Buy And Sell Residential And Investment Properties � Key Management in Sydney and Perth Australia.";h.loading=false;j.link="";var f=c.getallid();if(f==false){j.currid=c.getenquireid();if(j.currid!=null){j.link="http://centralpropertyexchange.com.au/#!/details/"+j.currid}}var f=c.getallid();if(f==true){j.list=a.getProducts();if(j.list!=undefined){for(i=0;i<j.list.length;i++){j.link=j.link+"http://centralpropertyexchange.com.au/#!/details/"+j.list[i].id+"\n"}}}if(h.shownothing!=false){j.link=""}j.respone5="";j.sendContactEmail=function(){if(!j.contact.name||!j.contact.email){}else{if(j.respone5.length===0){j.alerts=[{type:"danger",msg:"Please complete the captcha."}];j.closeAlert=function(l){j.alerts.splice(l,1)};return}else{var k;e.create(j.contact).$promise.then(function(l){j.msg=l.toJSON()});h.loading=true;b(function(){j.alerts=[{type:"success",msg:"Thank you for contacting us. We will reach out to you shortly."}];j.closeAlert=function(l){j.alerts.splice(l,1)};j.contact.name="";j.contact.email="";j.contact.subject="";j.contact.message="";j.contact.dummysubject="Contact us Enquiry";grecaptcha.reset();h.loading=false},2000)}}}}]);app.controller("ShortlistCtrl",["$scope","$rootScope","PropertyService","ShortlistService","CommonShareService","$window","$modal","$log","getRateInfo","numberFilter","$q","$timeout",function(m,k,e,b,f,c,l,p,a,o,h,d){k.title="Central Property Exchange | Real Estate| Shortlist";k.metakeywords="property,shortlist,graded,standard,view,reserve,grade,cart,bucket,favourite";m.properties=b.getProducts();m.defaultPI_LOANTERM=30;m.defaultIO_LOANTERM=5;m.defaultPI_RATE=4.29;m.defaultIO_RATE=4.29;m.default_costvalue=5;m.caseflag="one";m.viewValue="standard";m.shortlist={selectedView:"standard",individualView:[]};m.gradevalues=[1,2,3,4,5];m.isViewSelected=function(q,r){if(m.shortlist.individualView.indexOf(q+r)!=-1){return true}if(q==m.shortlist.selectedView&&n(q,r)==-1){return true}return false};m.selectView=function(r,s){var q=n(r,s);if(q>-1){m.shortlist.individualView.splice(q,1)}if(r!=m.shortlist.selectedView){m.shortlist.individualView.push(r+s)}if(m.shortlist.individualView.length>0){m.viewValue="none"}else{m.viewValue=r}};m.onGlobalViewChange=function(){if(m.viewValue!="none"){m.shortlist.selectedView=m.viewValue}m.shortlist.individualView=[]};var n=function(r,s){var q=m.shortlist.individualView.indexOf("standard"+s);if(q>-1){return q}var q=m.shortlist.individualView.indexOf("loan"+s);if(q>-1){return q}var q=m.shortlist.individualView.indexOf("investment"+s);if(q>-1){return q}return -1};m.removeItem=function(q){m.properties=b.removeProduct(q);m.shortlistcount=m.properties.length};m.clearlist=function(){m.properties=b.clearshortlist();m.shortlistcount=m.properties.length};m.shortlistcount=b.getcount();m.open2=function(r){var q=l.open({templateUrl:"mymailcontent.html",controller:"ModalmailCtrl",size:"",resolve:{items:function(){return r}}});q.result.then(function(s){m.selected=s},function(){p.info("Modal dismissed at: "+new Date())})};m.openpopup=function(r){var q=l.open({templateUrl:"mypopupmsg.html",controller:"ModalInstanceCtrl",windowClass:"app-modal-window",size:r,resolve:{items:function(){return m.items}}});q.result.then(function(s){m.selected=s},function(){p.info("Modal dismissed at: "+new Date())})};m.passid=function(q){f.passid(q)};m.passenquiry=function(q){k.shownothing=false;f.passenquireid(q)};m.passall=function(){k.shownothing=false;f.passallid()};m.go=function(q){c.open(q)};m.flagsvisible=true;m.showhidetext="Hide";m.hideshowflags=function(){m.flagsvisible=!(m.flagsvisible);if(m.flagsvisible==false){m.showhidetext="Show"}else{m.showhidetext="Hide"}};m.countryflag="au";m.countrylabel="AUD";m.dollarflag=true;function j(q){return q&&q.rate}var g=a();m.to={};m.from={};h.all([g]).then(function(s){var u=s[0].quotes;m.currencies=[];var r=f.getcurrencyNames();var q=u.USDUSD;var t=u.USDAUD;var v=q/t;angular.forEach(r,function(w,y){var x=u["USD"+y];m.currencies.push({code:y,label:y+" "+w+" ("+o(x*v,3)+" / AUD)",rate:x*v})});m.from.currency=m.currencies[7];m.to.currency=m.currencies[7]});m.updateValueAll=function(t,s,q,r){m.countryflag=s.currency.code.toLowerCase().substr(0,2);m.countrylabel=s.currency.code;angular.forEach(q,function(w,v){w.short_currlabel=s.currency.code;if(s.currency.code=="AUD"){w.short_currlabel=undefined}w.short_convcpx=w.cpxprice/j(t.currency)*j(s.currency);w.series=[];w.data=[];angular.forEach(w.scenarios,function(y,z){if(!(y.caseflag=="three")||r){y.conv_costprice=y.costprice/j(t.currency)*j(s.currency);y.conv_estimate=y.estimate/j(t.currency)*j(s.currency);y.conv_loanamt=y.loanamt/j(t.currency)*j(s.currency);y.conv_cashamount=y.cashamount/j(t.currency)*j(s.currency)}if(y.loantype=="PI"){if(y.intrate==undefined||y.intrate==""){y.intrate=0}y.conv_repayments=m.calrepayPI(y.loanterm,y.intrate,y.conv_loanamt);y.graphdata=m.calgraphdata(y.loanterm,y.intrate,y.conv_loanamt,y.conv_repayments)}else{y.conv_repayments=m.calrepayIO(y.intrate,y.conv_loanamt);y.graphdata=m.calgraphdata(m.defaultIO_LOANTERM,y.intrate,y.conv_loanamt,y.conv_repayments)}w.data.push(y.graphdata[0].data);w.series.push(y.name);if(y.graphdata[0].label.length>w.labels.length){w.labels=y.graphdata[0].label}});var u=0;for(i=0;i<w.scenarios.length;i++){if(w.scenarios[i].graphdata[0].label.length>u){u=w.scenarios[i].graphdata[0].label.length;var x=i}}if(w.scenarios.length>0){w.labels=w.scenarios[x].graphdata[0].label}})};m.isCollapsedflag=false;m.setiscreate=function(){m.iscreate=true;m.editflag=null;m.editingname=null};m.typeselected="IO";m.isIOselected=function(q){m.typeselected=q};m.calrepayPI=function(s,u,t){if(u==0){var v=t/(s*12)}else{var x=s*12;var w=u/(100*12);var r=w*Math.pow(1+w,x);var q=Math.pow(1+w,x)-1;var v=t*(r/q)}return v};m.calrepayIO=function(r,q){var s=(r*q)/(100*12);return s};m.calgraphdata=function(t,x,r,q){var z=[0];var v=[r.toFixed(2)];var s=t*12;var y=x/(100*12);for(i=1;i<=s;i++){if(i%12==0){z.push(i/12);v.push(r.toFixed(2))}var u=r*y;var w=q-u;r=r-w}var A=[{data:"",label:""}];A[0].data=v;A[0].label=z;return A};m.setbasescenario=function(q){angular.forEach(q,function(v,s){v.short_currlabel=undefined;v.short_convcpx=undefined;v.scena={name:"",lvr:"",cashamount:"",loantype:"",interestrate:"",loanterm:"",costper:""};v.scenarios=[];var r={};r.name="Base IO";r.loantype="IO";r.intrate=m.defaultIO_RATE;r.loanterm=m.defaultIO_LOANTERM;r.caseflag="one";r.cost=m.default_costvalue;m.defaultcostpercent=r.cost*1/100;r.costprice=v.cpxprice*m.defaultcostpercent;r.estimate=v.cpxprice*1+r.costprice;r.cashamount=0;r.cashpercent=0;r.loanamt=r.estimate-r.cashamount;var u=r.loanamt/v.cpxprice;r.lvr=u*100;r.repayments=m.calrepayIO(r.intrate,r.loanamt);r.graphdata=m.calgraphdata(r.loanterm,r.intrate,r.loanamt,r.repayments);m.scenariotowatch=r;v.scenarios.push(r);v.labels=r.graphdata[0].label;v.series=[r.name];v.data=[r.graphdata[0].data];var t={};t.name="Base PI";t.loantype="PI";t.intrate=m.defaultPI_RATE;t.loanterm=m.defaultPI_LOANTERM;t.caseflag="one";t.cost=m.default_costvalue;m.defaultcostpercent=t.cost*1/100;t.costprice=v.cpxprice*m.defaultcostpercent;t.estimate=v.cpxprice*1+t.costprice;t.cashamount=0;t.cashpercent=0;t.loanamt=t.estimate-t.cashamount;var u=t.loanamt/v.cpxprice;t.lvr=u*100;t.repayments=m.calrepayPI(t.loanterm,t.intrate,t.loanamt);t.graphdata=m.calgraphdata(t.loanterm,t.intrate,t.loanamt,t.repayments);v.scenarios.push(t);v.labels=t.graphdata[0].label;v.data.push(t.graphdata[0].data);v.series.push(t.name)})};m.setbasescenario(m.properties);m.submitscenario=function(u,s){if(s.name){m.status="OK";if(m.editingname!=null){m.status="editOK";m.editingname=null}angular.forEach(u.scenarios,function(x,y){if(x.name.toLowerCase()==s.name.toLowerCase()){m.status="notOK"}});if(m.editflag!=null){if(u.scenarios[m.editflag].name.toLowerCase()==s.name.toLowerCase()){m.status="editOK"}}}else{m.status="notOK"}if(m.status!="notOK"){m.scenatowatch=s;var t={name:s.name,lvr:s.lvr,cashamount:s.cashamount,cashpercent:null,loantype:s.loantype,intrate:s.interestrate,loanterm:s.loanterm,repayments:null,cost:s.costper,estimate:null,loanamt:null};m.defaultcostpercent=t.cost*1/100;if(t.cost==undefined||t.cost==""){t.cost=5;m.defaultcostpercent=0.05}if((s.lvr==undefined||s.lvr=="")&&(s.cashamount==undefined||s.cashamount=="")){t.caseflag="one";t.costprice=u.cpxprice*m.defaultcostpercent;t.estimate=u.cpxprice*1+t.costprice;t.cashamount=0;t.cashpercent=0;t.loanamt=t.estimate-t.cashamount;var v=t.loanamt/u.cpxprice;t.lvr=v*100}else{if((s.lvr&&s.lvr!="")&&(s.cashamount==undefined||s.cashamount=="")){t.caseflag="two";t.costprice=u.cpxprice*m.defaultcostpercent;var v=s.lvr/100;t.estimate=u.cpxprice*1+t.costprice;t.cashamount=t.estimate-(v*u.cpxprice);t.cashpercent=(100+100*m.defaultcostpercent)-s.lvr;t.loanamt=t.estimate-t.cashamount}else{if(((s.cashamount&&s.cashamount!="")&&(s.lvr==undefined||s.lvr==""))||((s.cashamount&&s.cashamount!="")&&(s.lvr&&s.lvr!=""))){t.caseflag="three";t.costprice=u.cpxprice*m.defaultcostpercent;t.estimate=u.cpxprice*1+t.costprice;if(u.short_currlabel){if(s.cashtype=="%"){var r=(u.short_convcpx*s.cashamount)/100}else{var r=s.cashamount}t.conv_costprice=t.costprice/j(m.from.currency)*j(m.to.currency);t.conv_estimate=t.estimate/j(m.from.currency)*j(m.to.currency);var v=(t.conv_estimate-r)/u.short_convcpx;t.lvr=v*100;t.conv_cashamount=r;t.cashamount=r/j(m.to.currency)*j(m.from.currency);t.cashpercent=(100+100*m.defaultcostpercent)-t.lvr*1;t.conv_loanamt=t.conv_estimate-t.conv_cashamount;t.loanamt=t.estimate-t.cashamount}else{if(s.cashtype=="%"){var r=(u.cpxprice*s.cashamount)/100}else{var r=s.cashamount}var v=(t.estimate-r)/u.cpxprice;t.lvr=v*100;t.cashamount=r;t.cashpercent=(100+100*m.defaultcostpercent)-t.lvr*1;t.loanamt=t.estimate-t.cashamount}}}}if(t.loantype=="PI"){if(t.intrate==undefined||t.intrate==""){t.intrate=0}t.repayments=m.calrepayPI(t.loanterm,t.intrate,t.loanamt);t.graphdata=m.calgraphdata(t.loanterm,t.intrate,t.loanamt,t.repayments)}else{t.loanterm=m.defaultIO_LOANTERM;t.repayments=m.calrepayIO(t.intrate,t.loanamt);t.graphdata=m.calgraphdata(m.defaultIO_LOANTERM,t.intrate,t.loanamt,t.repayments)}if(m.editflag!=null){u.scenarios[m.editflag]=t;u.data.splice(m.editflag,0,t.graphdata[0].data);u.series.splice(m.editflag,0,t.name)}else{u.scenarios.push(t);u.data.push(t.graphdata[0].data);u.series.push(t.name)}if(u.short_currlabel){m.updateValueAll(m.from,m.to,[u],false)}else{var q=0;for(i=0;i<u.scenarios.length;i++){if(u.scenarios[i].graphdata[0].label.length>q){q=u.scenarios[i].graphdata[0].label.length;var w=i}}if(u.scenarios.length>0){u.labels=u.scenarios[w].graphdata[0].label}}m.editflag=null;m.scenariotowatch2=t;if(m.scenariotowatch2.name!=m.scenariotowatch.name){t.namechanged=true}else{t.namechanged=false}if(m.scenariotowatch2.lvr!=m.scenariotowatch.lvr){t.lvrchanged=true}else{t.lvrchanged=false}if(m.scenariotowatch2.cashamount!=m.scenariotowatch.cashamount){t.cashamountchanged=true}else{t.cashamountchanged=false}if(m.scenariotowatch2.loantype!=m.scenariotowatch.loantype){t.loantypechanged=true}else{t.loantypechanged=false}if(m.scenariotowatch2.intrate!=m.scenariotowatch.intrate){t.intratechanged=true}else{t.intratechanged=false}if(m.scenariotowatch2.loanterm!=m.scenariotowatch.loanterm){t.loantermchanged=true}else{t.loantermchanged=false}if(m.scenariotowatch2.repayments!=m.scenariotowatch.repayments){t.repaymentschanged=true}else{t.repaymentschanged=false}if(m.scenariotowatch2.cost!=m.scenariotowatch.cost){t.costchanged=true}else{t.costchanged=false}if(m.scenariotowatch2.estimate!=m.scenariotowatch.estimate){t.estimatechanged=true}else{t.estimatechanged=false}if(m.scenariotowatch2.loanamt!=m.scenariotowatch.loanamt){t.loanamtchanged=true}else{t.loanamtchanged=false}m.clearscenario(u,s)}if(m.status=="OK"){m.alerts=[{type:"success",msg:"Scenario added successfully"}]}else{if(m.status=="editOK"){m.alerts=[{type:"success",msg:"Scenario edited successfully"}]}else{m.alerts=[{type:"danger",msg:"Oops! please provide an unique and non-empty scenario name"}]}}d(function(){m.alerts.splice(0,1)},3000)};m.clearscenario=function(s,q,r){q.name=undefined;q.lvr=undefined;q.cashamount=undefined;q.loantype="IO";q.interestrate=undefined;q.loanterm=undefined;q.costper=undefined;m.typeselected="IO";if(r!=null){s.data.splice(r,0,m.cached_indexdata);s.series.splice(r,0,m.cached_indexseries);m.cached_indexdata=null;m.cached_indexseries=null}};m.deletescenario=function(t,r){if(r!=0&&r!=1){t.data.splice(r,1);t.series.splice(r,1);t.scenarios.splice(r,1);var q=0;for(i=0;i<t.scenarios.length;i++){if(t.scenarios[i].graphdata[0].label.length>q){q=t.scenarios[i].graphdata[0].label.length;var s=i}}if(t.scenarios.length>0){t.labels=t.scenarios[s].graphdata[0].label}}};m.editflag=null;m.editingname=null;m.editscenario=function(r,s,q){m.editflag=q;m.iscreate=false;m.isCollapsedflag=false;m.editingname=r.name;s.scena.name=r.name;if(r.caseflag=="three"){s.scena.cashamount=r.cashamount;s.scena.lvr=undefined}else{if(r.caseflag=="two"){s.scena.cashamount=undefined;s.scena.lvr=r.lvr}else{s.scena.cashamount=undefined;s.scena.lvr=undefined}}s.scena.loantype=r.loantype;s.scena.interestrate=r.intrate;s.scena.loanterm=r.loanterm;s.scena.costper=r.cost;m.typeselected=r.loantype;m.cached_indexdata=s.data[q];m.cached_indexseries=s.series[q];s.data.splice(q,1);s.series.splice(q,1)};m.toggle=function(){m.isCollapsedflag=!m.isCollapsedflag}}]);app.controller("DefaultCtrl",["$scope","$rootScope","$location",function(b,a,c){b.currenturl=c.absUrl();if(b.currenturl.indexOf("privacy")>=0){a.title="Central Property Exchange | Legals | Privacy";a.metakeywords="CPx,Laws,Privacy,Security,Disclosure,Protection,Information,Third party,Privacy laws,Landlord Central,Privacy protection,Personal information,Correcting information,Central property exchange,Make an enquiry,Internet privacy policy,Apply for a job with us,Protecting your privacy,Your personal information,We will not sell or pass on your details,Information collected about visitors to our website";a.description="Central Property Exchange � Legals � Privacy � We Recognise The Importance Of Protecting The Privacy Of Information Collected About Visitors To Our Website."}else{if(b.currenturl.indexOf("terms-and-conditions")>=0){a.title="Central Property Exchange | Legals | Terms & Conditions";a.metakeywords="CPx,Terms,Access,Website,Material,Copyright,Disclaimer,Conditions,Third party ,Exclusive right,This agreement,Landlord Central,Property Compass,Intellectual property,Central property exchange,Use of material,Terms and conditions,For personal use only ,Termination of access,Links to other websites,Network of professionals,The legal and rightful owner of the intellectual property";a.description="Central Property Exchange � Legals � Terms & Conditions � Landlord Central Has Developed An Online Property Evaluation System For The Property Seller Or Buyer. The Business Process Is Also Licensed To Our Network Of Professionals."}else{a.metakeywords="CPx,Free,Order,Rental,Report,Property,Buy now,Contract,Valuation,Summary,Property Review,Central property exchange,Property Valuation,Depreciation Report,Independent Rental Estimate,Population and Capital Growth,Independent Property Review,Independent Contract Summary";a.description="Central Property Exchange � Reports � Order Independent Reports � Order Report, Buy Now, Free Estimate, Free Summary";a.title="Central Property Exchange | Reports | Order Independent Reports"}}}]);app.controller("fbCtrl",["$scope",function(a){a.share=function(b){FB.ui({method:"feed",name:""+b.address[0].StreetNumber+""+b.address[0].street+", "+b.address[0].suburb+", "+b.address[0].city+", "+b.address[0].state+", "+b.address[0].postcode,link:"http://centralpropertyexchange.com.au/#!/details/"+b.id,picture:""+b.images[0].url,description:"http://centralpropertyexchange.com.au/#!/details/"+b.id,message:""})}}]);app.controller("fbCtrlblog",["$scope",function(a){a.share=function(b){FB.ui({method:"feed",name:""+b,link:""+b,picture:"http://centralpropertyexchange.com.au/images/Logo.png",message:""})}}]);app.controller("printCtrl",["$scope","$rootScope","PropertyService","CommonShareService",function(b,a,d,c){d.success(function(e){b.properties=e.properties;b.currid=c.getid();b.currentpage=c.getblogprintid();b.currentproperty=b.properties[0];for(i=0;i<b.properties.length;i++){if(b.properties[i].id==b.currid){b.currentproperty=b.properties[i]}}b.gradevalues=[1,2,3,4,5];b.map={center:{latitude:b.currentproperty.coords.latitude,longitude:1*b.currentproperty.coords.longitude+0.005},zoom:16,markersr:[{id:101,latitude:b.currentproperty.coords.latitude,longitude:b.currentproperty.coords.longitude}],}})}]);app.controller("producttileCtrl",["$scope","CommonShareService","getRateInfo","numberFilter","$q",function(c,d,g,e,b){function f(h){return h&&h.rate}var a=g();c.to={};c.from={};b.all([a]).then(function(k){var m=k[0].quotes;c.currencies=[];var j=d.getcurrencyNames();var h=m.USDUSD;var l=m.USDAUD;var n=h/l;angular.forEach(j,function(o,q){var p=m["USD"+q];c.currencies.push({code:q,label:q+" "+o+" ("+e(p*n,3)+" / AUD)",rate:p*n})});c.from.currency=c.currencies[7];c.to.currency=c.currencies[7]});c.item.convertedcpx_home=undefined;c.item.currencylabel_home=undefined;c.updateValue=function(k,j,h){h.currencylabel_home=j.currency.code;if(j.currency.code=="AUD"){h.currencylabel_home=undefined}h.convertedcpx_home=h.cpxprice/f(k.currency)*f(j.currency)}}]);app.controller("currencyCtrl",["$scope","CommonShareService","getRateInfo","numberFilter","$q",function(c,d,g,e,b){function f(h){return h&&h.rate}var a=g();c.to={};c.from={};b.all([a]).then(function(k){var m=k[0].quotes;c.currencies=[];var j=d.getcurrencyNames();var h=m.USDUSD;var l=m.USDAUD;var n=h/l;console.log(h);angular.forEach(j,function(o,q){var p=m["USD"+q];c.currencies.push({code:q,label:q+" "+o+" ("+e(p*n,3)+" / AUD)",rate:p*n})});c.from.currency=c.currencies[7];c.to.currency=c.currencies[7]});c.updateValue=function(k,j,h){c.animatebtn=false;c.convertedvalue=h/f(k.currency)*f(j.currency);c.ratebase_from=(j.currency.rate/k.currency.rate).toFixed(2);c.ratebase_to=(k.currency.rate/j.currency.rate).toFixed(2);c.getDatetime=new Date()};c.animatebtn=false;c.animate=function(h){if(h=="on"){c.animatebtn=true}}}]);app.controller("SubmitPropertyRequestCtrl",["$scope","$rootScope","ContactService","vcRecaptchaService","$http","$timeout","$window",function(b,a,d,c,h,e,g,f){a.title="Central Property Exchange| Real Estate | Submit Your Property";b.respone1="";b.setResponse=function(j){console.log("Response available");b.response=j};b.setWidgetId=function(j){console.log("Created widget ID: %s",j);b.widgetId=j};b.sendContactEmail=function(){console.log(b.contact);console.log("trea",!b.contact.name||!b.contact.email);if(!b.contact.name||!b.contact.email){}else{console.log(b.widgetId);console.log(b.respone1);if(b.respone1.length===0){b.alerts=[{type:"danger",msg:"Please complete the captcha."}];b.closeAlert=function(k){b.alerts.splice(k,1)};return}else{var j;console.log("sending the captcha response to the server");console.log(b.contact);d.create(b.contact).$promise.then(function(k){b.msg=k.toJSON()});a.loading=true;e(function(){b.alerts=[{type:"success",msg:"Thank you for contacting us. We will reach out to you shortly."}];b.closeAlert=function(k){b.alerts.splice(k,1)};b.contact.name="";b.contact.email="";b.contact.subject="Property request";b.contact.message="Please provide a summary of what you are looking for. Example:\nPrice range\nSMSF suitable\nHouse or unit\nLocation\nOther relevant criteria\nOr simply paste a link here";b.contact.dummysubject="Submit property request";grecaptcha.reset();a.loading=false},2000)}}}}]);app.controller("ListYourPropertyCtrl",["$scope","$rootScope","$route","ContactService","vcRecaptchaService","$http","$timeout","$window",function(j,h,g,e,d,f,b,a,c){h.title="Central Property Exchange| Real Estate | List Your Property";j.respone2="";j.setResponse=function(k){console.log("Response available");j.response=k};j.setWidgetId=function(k){console.log("Created widget ID: %s",k);j.widgetId=k};j.sendContactEmail=function(){console.log(j.contact);console.log("trea",!j.contact.name||!j.contact.email);if(!j.contact.name||!j.contact.email){}else{console.log(j.widgetId);console.log(j.respone2);if(j.respone2.length===0){j.alerts=[{type:"danger",msg:"Please complete the captcha."}];j.closeAlert=function(l){j.alerts.splice(l,1)};return}else{var k;console.log("sending the captcha response to the server");console.log(j.contact);e.create(j.contact).$promise.then(function(l){j.msg=l.toJSON()});h.loading=true;b(function(){j.alerts=[{type:"success",msg:"Thank you for contacting us. We will reach out to you shortly."}];j.closeAlert=function(l){j.alerts.splice(l,1)};j.contact.name="";j.contact.email="";j.contact.subject="List my Property on CPx";j.contact.message="Please provide a summary of your property\nOr simply paste a link here";j.contact.dummysubject="List your property";grecaptcha.reset();h.loading=false},2000)}}}}]);app.controller("SubmitFreeMembershipCtrl",["$scope","$rootScope","ContactService","vcRecaptchaService","$http","$timeout",function(b,a,d,c,f,e){a.title="Central Property Exchange| Industry Professionals | Submit Free Membership Request";b.respone4="";b.setWidgetId=function(g){console.info("Created widget ID: %s",g);b.widgetId=g};b.sendContactEmail=function(){console.log(b.contact);console.log("trea",!b.contact.name||!b.contact.email);if(!b.contact.name||!b.contact.email){}else{console.log(b.widgetId);console.log(b.respone4);if(b.respone4.length===0){b.alerts=[{type:"danger",msg:"Please complete the captcha."}];b.closeAlert=function(h){b.alerts.splice(h,1)};return}else{var g;console.log("sending the captcha response to the server");console.log(b.contact);d.create(b.contact).$promise.then(function(h){b.msg=h.toJSON()});a.loading=true;e(function(){b.alerts=[{type:"success",msg:"Thank you for contacting us. We will reach out to you shortly."}];b.closeAlert=function(h){b.alerts.splice(h,1)};b.contact.name="";b.contact.email="";b.contact.subject="Industry professionals new membership request";b.contact.message="";b.contact.dummysubject="Submit free membership request";grecaptcha.reset();a.loading=false},2000)}}}}]);app.controller("SubmitServiceRequestCtrl",["$scope","$rootScope","ContactService","vcRecaptchaService","$http","$timeout",function(c,b,e,d,h,f,g,a){b.title="Central Property Exchange| CPx Marketplace | Submit Service Request";c.respone3="";c.setResponse=function(j){c.response=j};c.cbExpiration=function(){c.response=null};c.setWidgetId=function(j){c.widgetId=j};c.sendContactEmail=function(){if(!c.contact.name||!c.contact.email){}else{if(c.respone3.length===0){c.alerts=[{type:"danger",msg:"Please complete the captcha."}];c.closeAlert=function(k){c.alerts.splice(k,1)};return}else{var j;e.create(c.contact).$promise.then(function(k){c.msg=k.toJSON()});b.loading=true;f(function(){c.alerts=[{type:"success",msg:"Thank you for contacting us. We will reach out to you shortly."}];c.closeAlert=function(k){c.alerts.splice(k,1)};c.contact.name="";c.contact.email="";c.contact.subject="Service request";c.contact.message="";c.contact.dummysubject="Submit service request";grecaptcha.reset();b.loading=false},2000)}}}}]);app.controller("LogoslideCtrl",["$scope","$rootScope",function(b,a){$("#logoslide").flexisel({visibleItems:4,autoPlay:false,responsiveBreakpoints:{portrait:{changePoint:480,visibleItems:1},landscape:{changePoint:640,visibleItems:2},tablet:{changePoint:768,visibleItems:3}}})}]);